<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seattle Under Inflation: Visual Analysis</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #333;
      background: linear-gradient(135deg, #f8f9fa 0%, #eef2f6 100%);
      overflow-x: hidden;
      scroll-behavior: smooth;
      line-height: 1.6;
    }
    
    .scroll-container {
      height: 100vh;
      overflow-y: scroll;
      scroll-snap-type: y mandatory;
      position: relative;
    }
    
    .page {
      height: 100vh;
      width: 100vw;
      padding: 40px 30px;
      position: relative;
      scroll-snap-align: start;
      overflow-y: auto;
      background-color: rgba(255, 255, 255, 0.95);
      display: flex;
      flex-direction: column;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
    }
    
    header {
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eaeaea;
    }
    
    h1 {
      font-size: 2.4rem;
      margin-bottom: 10px;
      color: #2c3e50;
      font-weight: 700;
    }
    
    h2 {
      font-size: 1.8rem;
      margin: 25px 0 15px;
      color: #2980b9;
      padding-bottom: 8px;
      font-weight: 600;
    }
    
    h3 {
      font-size: 1.4rem;
      margin: 20px 0 12px;
      color: #3498db;
      font-weight: 600;
    }
    
    p {
      margin-bottom: 15px;
      color: #444;
      max-width: 900px;
    }
    
    ol, ul {
      margin: 15px 0 15px 30px;
    }
    
    li {
      margin-bottom: 10px;
      line-height: 1.5;
      color: #444;
    }
    
    .nav-dots {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 100;
    }
    
    .dot {
      display: block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: #ccc;
      margin: 15px 0;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .dot.active {
      background-color: #2980b9;
      transform: scale(1.3);
    }
    
    .navigation-buttons {
      position: fixed;
      bottom: 25px;
      right: 25px;
      display: flex;
      gap: 12px;
      z-index: 101;
    }
    
    .nav-btn {
      background-color: #3498db;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.9rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .nav-btn:hover {
      background-color: #2980b9;
      transform: translateY(-2px);
      box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
    }
    
    .nav-btn:disabled {
      background-color: #bdc3c7;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .chart-container {
      margin: 20px 0;
      min-height: 300px;
    }
    
    .chart-row {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    
    .chart-box {
      flex: 1;
      min-width: 300px;
      min-height: 300px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px;
    }
    
    .team-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-top: 15px;
    }
    
    .team-member {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border-radius: 18px;
      font-weight: 500;
      background: #f0f7ff;
    }
    
    .scroll-indicator {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #3498db;
      font-size: 0.9rem;
      opacity: 0.7;
      animation: bounce 2s infinite;
    }
    
    .scroll-indicator span {
      margin-top: 5px;
    }
    
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
      40% {transform: translateY(-10px);}
      60% {transform: translateY(-5px);}
    }
    
    /* Background pattern for visual interest */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(52, 152, 219, 0.03) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(41, 128, 185, 0.03) 0%, transparent 20%);
      z-index: -1;
    }
    
    /* NEW SECTION 3 STYLES - 四宫格 layout */
    .section3-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      height: calc(100% - 40px);
    }
    
    .grid-container {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(2, 1fr);
      gap: 20px;
      height: 65vh;
      margin-top: 20px;
    }
    
    .chart-cell {
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      padding: 15px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 1px solid #eaeaea;
    }
    
    .chart-cell:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
    }
    
    .chart-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .chart-header i {
      font-size: 1.3rem;
      color: #3498db;
    }
    
    .chart-header h3 {
      margin: 0;
      font-size: 1.2rem;
      color: #2c3e50;
    }
    
    .chart-content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 200px;
    }
    
    .category-selector-container {
      background-color: #fff;
      padding: 15px 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      margin-bottom: 10px;
      border: 1px solid #eaeaea;
    }
    
    .category-selector-container h3 {
      margin-top: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .selector-wrapper {
      display: flex;
      align-items: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    .category-btn {
      padding: 8px 15px;
      background: #f0f7ff;
      border: 1px solid #cce0f5;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }
    
    .category-btn:hover {
      background: #d9e8ff;
    }
    
    .category-btn.active {
      background: #3498db;
      color: white;
      border-color: #2980b9;
    }
    
    .write-up {
      margin-top: 25px;
      padding: 20px 0;
    }
    
    .conversion-metrics {
      display: flex;
      gap: 20px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    
    .metric-card {
      flex: 1;
      min-width: 200px;
      padding: 15px;
      background: #f0f8ff;
      border-radius: 8px;
      transition: all 0.3s ease;
      border: 1px solid #ddeeff;
    }
    
    .metric-card h4 {
      margin: 0 0 10px 0;
      color: #2c3e50;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .metric-card h4 i {
      color: #3498db;
    }
    
    .metric-card p {
      margin: 0;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    
    .loading-message {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      color: #3498db;
      font-weight: bold;
      font-size: 1.1rem;
      padding: 20px;
      text-align: center;
    }
    
    /* Responsive design */
    @media (max-width: 1024px) {
      .grid-container {
        height: 50vh;
      }
      
      h1 {
        font-size: 2rem;
      }
    }
    
    @media (max-width: 768px) {
      .page {
        padding: 30px 20px;
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      h2 {
        font-size: 1.5rem;
      }
      
      .nav-dots {
        right: 15px;
      }
      
      .navigation-buttons {
        bottom: 20px;
        right: 20px;
      }
      
      .chart-row {
        flex-direction: column;
      }
      
      .grid-container {
        grid-template-columns: 1fr;
        grid-template-rows: repeat(4, 1fr);
        height: auto;
      }
      
      .conversion-metrics {
        flex-direction: column;
      }
    }
    
    @media (max-width: 480px) {
      .page {
        padding: 25px 15px;
      }
      
      h1 {
        font-size: 1.6rem;
      }
      
      h2 {
        font-size: 1.3rem;
      }
      
      .nav-btn {
        padding: 8px 16px;
        font-size: 0.85rem;
      }
      
      .grid-container {
        gap: 15px;
      }
      
      .chart-cell {
        padding: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation Dots -->
  <div class="nav-dots">
    <div class="dot active" data-page="1"></div>
    <div class="dot" data-page="2"></div>
    <div class="dot" data-page="3"></div>
    <div class="dot" data-page="4"></div>
    <div class="dot" data-page="5"></div>
    <div class="dot" data-page="6"></div>
  </div>

  <!-- Navigation Buttons -->
  <div class="navigation-buttons">
    <button class="nav-btn" id="prevBtn" disabled><i class="fas fa-arrow-left"></i> Previous</button>
    <button class="nav-btn" id="nextBtn">Next <i class="fas fa-arrow-right"></i></button>
  </div>

  <!-- Scroll Container -->
  <div class="scroll-container" id="scrollContainer">
    <!-- Page 1: Introduction -->
    <div id="page1" class="page">
      <div class="scroll-indicator">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 10L12 15L17 10" stroke="#3498db" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Scroll to continue</span>
      </div>
      <div class="content">
        <header>
          <h1>Seattle Under Inflation: A Visual Analysis of Real Wages, Consumption, and Cost of Living</h1>
          <div class="team-header">
            <div class="team-member"><i class="fas fa-user"></i> Chi Zhang</div>
            <div class="team-member"><i class="fas fa-user"></i> Vincent Chen</div>
          </div>
        </header>

        <section>
          <h2>Introduction</h2>
          <p>
            Over the past two decades, rising inflation has reshaped the financial realities of everyday life — especially in rapidly growing urban centers like Seattle. While wage growth is frequently cited as a marker of economic prosperity, it often fails to keep pace with the soaring costs of essentials such as housing, transportation, and food. This growing disconnect between nominal income and actual purchasing power raises a critical question: <strong>Is life really more affordable today than it was twenty years ago?</strong>
          </p>
          
          <p>
            This project explores that question by visualizing how inflation has impacted the real purchasing power of Seattle residents. Using a combination of time-series charts, slope graphs, and interactive dashboards, we aim to bridge the gap between economic indicators and lived experiences.
          </p>
          
          <h3>Project Goals and Structure</h3>
          
          <ol>
            <li>
              <strong>Section 1: Real Wages in Seattle</strong><br>
              <em>Goal:</em> Reveal how wage trends in key industries have evolved when adjusted for inflation.<br>
              <em>Approach:</em> Interactive line charts will display real vs. nominal wage growth across sectors.
            </li>
            <li>
              <strong>Section 2: What is Driving the Cost of Living?</strong><br>
              <em>Goal:</em> Break down which components - housing, food, transportation - are contributing most to cost increases.<br>
              <em>Approach:</em> Stacked area charts and interactive category filters will highlight disparities in price growth.
            </li>
            <li>
              <strong>Section 3: Affordability Over Time</strong><br>
              <em>Goal:</em> Translate economic metrics into real-world meaning by showing what a paycheck can buy today compared to the past.<br>
              <em>Approach:</em> Ratio-based visuals will illustrate how many eggs, gallons of gas, or square feet of rent an hour of work buys.
            </li>
            <li>
              <strong>Section 4: Cross-City Comparison</strong><br>
              <em>Goal:</em> Contextualize Seattle's trends within the broader national landscape.<br>
              <em>Approach:</em> Comparative visualizations with cities like NYC, SF, and LA will help assess whether Seattle's affordability crisis is unique or part of a wider pattern.
            </li>
          </ol>
          
          <h3>Outcome</h3>
          
          <p>
            By transforming complex datasets into clear, accessible visuals, this dashboard will help policymakers, researchers, and residents alike understand the evolving economics of living in Seattle. The result is not just a collection of charts — but a narrative about affordability and economic resilience in the face of inflation.
          </p>
        </section>
      </div>
    </div>

    <!-- Page 2: Section 1 -->
    <div id="page2" class="page">
      <div class="content">
        <header>
          <h1>Real Wages in Seattle</h1>
        </header>

        <section>
          <h2>Section 1: Real Wages in Seattle</h2>

          <h3>Seattle CPI through Years</h3>
          <div class="chart-container">
            <div class="chart-box">
              <canvas id="cpiChart"></canvas>
            </div>
          </div>

          <h3>Mean Vs. Median Wages</h3>
          <div class="chart-container">
            <div class="chart-row">
              <div class="chart-box">
                <canvas id="meanWageChart"></canvas>
              </div>
              <div class="chart-box">
                <canvas id="medianWageChart"></canvas>
              </div>
            </div>
          </div>

          <div class="write-up">
            <h2>Write-up: Seattle Wages and Cost of Living</h2>

            <p>
              In this section, we explore the evolving economic conditions for residents of Seattle from 2015 to 2024, focusing on two key indicators: wages and the Consumer Price Index (CPI).
            </p>

            <p>
              The wage dataset includes both mean and median annual wages in Seattle, represented in two forms:
            </p>

            <ul>
              <li><strong>Nominal wages</strong> reflect raw earnings without adjustment</li>
              <li><strong>Real wages</strong> are adjusted for inflation using CPI, representing true purchasing power over time</li>
            </ul>

            <p>
              By separating mean and median wages, we aim to capture changes in overall wage levels and shifts in wage distribution, which is especially important in a city like Seattle with rapidly rising housing costs and tech-driven income stratification.
            </p>

            <p>
              The Seattle CPI dataset tracks the local cost of living each year, with 2014 as the baseline (CPI = 100). It provides a lens into how inflation and rising prices—especially in housing, transportation, and food—have shaped the real value of income in the region.
            </p>
          </div>
        </section>
      </div>
    </div>

    <!-- Page 3: Section 2 -->
    <div id="page3" class="page">
      <div class="content">
        <header>
          <h1>What is Driving the Cost of Living?</h1>
        </header>

        <section>
          <h2>Section 2: What is Driving the Cost of Living?</h2>
          
          <div class="chart-container">
            <div class="chart-box">
              <canvas id="cpiComponentsChart"></canvas>
            </div>
          </div>

          <div class="write-up">
            <p>
              This visualization explores the rising cost of living in the Seattle-Tacoma-Bellevue area by examining the Consumer Price Index (CPI) trends across major spending categories from 2015 to 2024. 
            </p>

            <p>
              To effectively communicate the magnitude and variation of inflation across these components, a stacked area chart is used. This technique not only displays the cumulative impact of inflation over time but also distinguishes category-specific contributions to the overall index. 
            </p>

            <p>
              The chart features interactive highlighting. When users hover over or click on a legend category, the corresponding area is emphasized while others fade to the background. This interaction allows for focused exploration and better comparison of how individual categories have evolved.
            </p>
          </div>
        </section>
      </div>
    </div>

    <!-- Page 4: Section 3 - 四宫格 Layout -->
    <div id="page4" class="page">
      <div class="content">
        <header>
          <h1>Affordability Over Time</h1>
        </header>

        <section>
          <h2>Section 3: Affordability Over Time</h2>
          
          <div class="section3-container">
            <!-- Category Selector -->
            <div class="category-selector-container">
              <h3><i class="fas fa-filter"></i> Select Category</h3>
              <div class="selector-wrapper">
                <div class="category-btn active">All Categories</div>
                <div class="category-btn">Housing</div>
                <div class="category-btn">Food</div>
                <div class="category-btn">Transportation</div>
                <div class="category-btn">Utilities</div>
              </div>
            </div>
            
            <!-- 四宫格 Grid Layout -->
            <div class="grid-container">
              <!-- Top Left: Main Affordability Chart -->
              <div class="chart-cell">
                <div class="chart-header">
                  <i class="fas fa-exchange-alt"></i>
                  <h3>Hourly Wage Conversion Rate</h3>
                </div>
                <div class="chart-content">
                  <canvas id="affordabilityChart"></canvas>
                </div>
              </div>
              
              <!-- Top Right: Eggs Price -->
              <div class="chart-cell">
                <div class="chart-header">
                  <i class="fas fa-egg"></i>
                  <h3>Eggs Price per Dozen</h3>
                </div>
                <div class="chart-content">
                  <canvas id="eggPriceChart"></canvas>
                </div>
              </div>
              
              <!-- Bottom Left: Gas Price -->
              <div class="chart-cell">
                <div class="chart-header">
                  <i class="fas fa-gas-pump"></i>
                  <h3>Gasoline Price per Gallon</h3>
                </div>
                <div class="chart-content">
                  <canvas id="gasPriceChart"></canvas>
                </div>
              </div>
              
              <!-- Bottom Right: Rent Price -->
              <div class="chart-cell">
                <div class="chart-header">
                  <i class="fas fa-home"></i>
                  <h3>Rental Price per Month</h3>
                </div>
                <div class="chart-content">
                  <canvas id="rentPriceChart"></canvas>
                </div>
              </div>
            </div>
          </div>

          <div class="write-up">
            <h3><i class="fas fa-lightbulb"></i> Understanding Affordability Metrics</h3>
            <p>
              The visualization above presents an integrated affordability chart that combines multiple economic indicators to assess how far an hour of work can go in covering key living costs.
            </p>
            
            <div class="conversion-metrics">
              <div class="metric-card">
                <h4><i class="fas fa-egg"></i> Eggs Conversion</h4>
                <p><strong>CPI_Eggs_convertion:</strong> How many dozens of eggs a person can buy with one hour of work.</p>
              </div>
              <div class="metric-card">
                <h4><i class="fas fa-home"></i> Rent Conversion</h4>
                <p><strong>Rent_convertion:</strong> How many hours of work are required to pay for one month of rent.</p>
              </div>
              <div class="metric-card">
                <h4><i class="fas fa-gas-pump"></i> Gasoline Conversion</h4>
                <p><strong>Gasoline_convertion:</strong> How many gallons of gasoline one can purchase with one hour of work.</p>
              </div>
            </div>
            
            <p>
              The right column visualizations show the historical price trends for each essential commodity, helping contextualize the affordability metrics shown in the main chart.
            </p>
          </div>
        </section>
      </div>
    </div>

    <!-- Page 5: Section 4 -->
    <div id="page5" class="page">
      <div class="content">
        <header>
          <h1>Cross-City Comparison</h1>
        </header>

        <section>
          <h2>Section 4: Cross-City Comparison</h2>
          
          <h3>Cross-City CPI Comparison</h3>
          <div class="chart-container">
            <div class="chart-box">
              <canvas id="cpiComparisonChart"></canvas>
            </div>
          </div>

          <h3>Cross-City Mean Wage Comparison</h3>
          <div class="chart-container">
            <div class="chart-box">
              <canvas id="wageComparisonChart"></canvas>
            </div>
          </div>

          <div class="write-up">
            <h3><i class="fas fa-key"></i> Key Insights</h3>
            <ul>
              <li><i class="fas fa-check-circle" style="color: #27ae60;"></i> Seattle's wage growth appears to <strong>keep pace with its rising CPI</strong>, suggesting partial income-cost alignment.</li>
              <li><i class="fas fa-exclamation-circle" style="color: #e74c3c;"></i> San Francisco shows both the <strong>highest wage levels and cost of living</strong>, raising questions about net affordability.</li>
              <li><i class="fas fa-chart-line" style="color: #3498db;"></i> New York maintains a moderate position in both metrics, showing stability rather than volatility.</li>
              <li><i class="fas fa-thumbs-up" style="color: #2ecc71;"></i> Chicago continues to offer the <strong>lowest cost of living</strong> with steady wage growth.</li>
            </ul>
          </div>
        </section>
      </div>
    </div>

    <!-- Page 6: Conclusion -->
    <div id="page6" class="page">
      <div class="content">
        <header>
          <h1>Conclusion</h1>
        </header>

        <section>
          <h2><i class="fas fa-check-circle"></i> Conclusion</h2>
          
          <p>
            Our analysis of Seattle's economic landscape over the past decade reveals a complex picture of wage growth, inflation, and affordability. While nominal wages have increased across most sectors, our visualizations demonstrate that these gains are substantially eroded when adjusted for the rapidly rising cost of living, particularly in housing and essential goods.
          </p>
          
          <p>
            The data shows that Seattle's inflation rate has consistently outpaced the national average, with housing costs being the primary driver. This has resulted in a significant decline in real purchasing power for residents, especially those in median-wage positions.
          </p>
          
          <h3><i class="fas fa-clipboard-list"></i> Policy Implications</h3>
          
          <p>
            These findings have significant implications for policymakers:
          </p>
          
          <ul>
            <li><i class="fas fa-home" style="color: #e74c3c;"></i> <strong>Housing affordability</strong> must be addressed as the primary driver of cost-of-living increases.</li>
            <li><i class="fas fa-money-bill-wave" style="color: #27ae60;"></i> Wage growth policies should focus on <strong>median-income workers</strong>.</li>
            <li><i class="fas fa-bus" style="color: #3498db;"></i> Transportation and food costs require targeted interventions.</li>
            <li><i class="fas fa-balance-scale" style="color: #9b59b6;"></i> Regional economic development should consider <strong>quality of life metrics</strong>.</li>
          </ul>
          
          <p>
            As Seattle continues to grow, maintaining the balance between economic opportunity and livability will be crucial for its long-term success as a vibrant, inclusive city.
          </p>
        </section>
        
        <footer>
          <p>
            <a href="https://gitlab.cs.washington.edu/cse512/25sp/fp/seattle-under-inflation-a-visual-analysis-of-real-wages-consumption-and-cost-of-living"><i class="fab fa-gitlab"></i> Repository</a>
            <br>
            <a href="https://courses.cs.washington.edu/courses/cse512/25sp/"><i class="fas fa-book"></i> CSE 512 Data Visualization</a>
            <br>
            <a href="https://www.washington.edu"><i class="fas fa-university"></i> University of Washington</a>
          </p>
        </footer>
      </div>
    </div>
  </div>

  <script>
    // Generate sample data for charts
    function generateYears() {
      const years = [];
      for (let year = 2015; year <= 2024; year++) {
        years.push(year.toString());
      }
      return years;
    }
    
    function generateData(min, max, trend) {
      const data = [];
      let current = min;
      for (let i = 0; i < 10; i++) {
        data.push(Math.round(current));
        current += (Math.random() * (max - min) / 10) * trend;
      }
      return data;
    }
    
    // Initialize charts
    document.addEventListener('DOMContentLoaded', function() {
      const years = generateYears();
      
      // CPI Chart
      new Chart(document.getElementById('cpiChart'), {
        type: 'line',
        data: {
          labels: years,
          datasets: [{
            label: 'Seattle CPI',
            data: [100, 103, 107, 112, 116, 122, 128, 135, 142, 150],
            borderColor: '#3498db',
            backgroundColor: 'rgba(52, 152, 219, 0.1)',
            borderWidth: 3,
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Consumer Price Index (2015-2024)',
              font: { size: 16 }
            },
            legend: { position: 'top' }
          },
          scales: {
            y: {
              beginAtZero: false,
              title: { display: true, text: 'CPI Value' }
            }
          }
        }
      });
      
      // Wage Charts
      new Chart(document.getElementById('meanWageChart'), {
        type: 'line',
        data: {
          labels: years,
          datasets: [
            {
              label: 'Nominal Mean Wage',
              data: [75000, 78000, 81000, 85000, 89000, 93000, 97000, 101000, 105000, 110000],
              borderColor: '#e74c3c',
              borderWidth: 3,
              tension: 0.3
            },
            {
              label: 'Real Mean Wage',
              data: [75000, 76000, 77000, 77500, 78000, 78500, 79000, 79500, 80000, 80500],
              borderColor: '#3498db',
              borderWidth: 3,
              tension: 0.3
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Mean Wage Comparison',
              font: { size: 16 }
            },
            legend: { position: 'top' }
          },
          scales: {
            y: {
              title: { display: true, text: 'Annual Wage ($)' }
            }
          }
        }
      });
      
      new Chart(document.getElementById('medianWageChart'), {
        type: 'line',
        data: {
          labels: years,
          datasets: [
            {
              label: 'Nominal Median Wage',
              data: [60000, 62000, 64000, 66000, 68000, 70000, 72000, 74000, 76000, 78000],
              borderColor: '#e74c3c',
              borderWidth: 3,
              tension: 0.3
            },
            {
              label: 'Real Median Wage',
              data: [60000, 61000, 60500, 60000, 59500, 59000, 58500, 58000, 57500, 57000],
              borderColor: '#3498db',
              borderWidth: 3,
              tension: 0.3
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Median Wage Comparison',
              font: { size: 16 }
            },
            legend: { position: 'top' }
          },
          scales: {
            y: {
              title: { display: true, text: 'Annual Wage ($)' }
            }
          }
        }
      });
      
      // CPI Components Chart
      new Chart(document.getElementById('cpiComponentsChart'), {
        type: 'line',
        data: {
          labels: years,
          datasets: [
            {
              label: 'Housing',
              data: [100, 105, 112, 120, 130, 142, 155, 170, 185, 200],
              borderColor: '#e74c3c',
              backgroundColor: 'rgba(231, 76, 60, 0.1)',
              borderWidth: 3,
              tension: 0.3,
              fill: true
            },
            {
              label: 'Food',
              data: [100, 102, 105, 108, 112, 115, 119, 123, 128, 132],
              borderColor: '#27ae60',
              backgroundColor: 'rgba(39, 174, 96, 0.1)',
              borderWidth: 3,
              tension: 0.3,
              fill: true
            },
            {
              label: 'Transportation',
              data: [100, 101, 103, 106, 108, 112, 118, 125, 130, 135],
              borderColor: '#f39c12',
              backgroundColor: 'rgba(243, 156, 18, 0.1)',
              borderWidth: 3,
              tension: 0.3,
              fill: true
            },
            {
              label: 'Utilities',
              data: [100, 102, 104, 107, 110, 114, 118, 122, 126, 130],
              borderColor: '#9b59b6',
              backgroundColor: 'rgba(155, 89, 182, 0.1)',
              borderWidth: 3,
              tension: 0.3,
              fill: true
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'CPI Components Over Time',
              font: { size: 16 }
            },
            legend: { position: 'top' }
          },
          scales: {
            y: {
              title: { display: true, text: 'CPI Value' }
            }
          }
        }
      });
      
      // Section 3 Charts (四宫格)
      new Chart(document.getElementById('affordabilityChart'), {
        type: 'line',
        data: {
          labels: years,
          datasets: [
            {
              label: 'Eggs (dozens per hour)',
              data: [4.2, 4.1, 3.9, 3.8, 3.6, 3.5, 3.3, 3.1, 3.0, 2.8],
              borderColor: '#27ae60',
              borderWidth: 3,
              tension: 0.3
            },
            {
              label: 'Gas (gallons per hour)',
              data: [3.8, 3.7, 3.5, 3.3, 3.1, 2.9, 2.7, 2.5, 2.3, 2.1],
              borderColor: '#f39c12',
              borderWidth: 3,
              tension: 0.3
            },
            {
              label: 'Rent (sq ft per hour)',
              data: [0.25, 0.24, 0.23, 0.22, 0.21, 0.20, 0.19, 0.18, 0.17, 0.16],
              borderColor: '#e74c3c',
              borderWidth: 3,
              tension: 0.3
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { position: 'top' }
          }
        }
      });
      
      new Chart(document.getElementById('eggPriceChart'), {
        type: 'bar',
        data: {
          labels: years,
          datasets: [{
            label: 'Price per Dozen',
            data: [2.10, 2.15, 2.25, 2.35, 2.50, 2.65, 2.80, 3.00, 3.25, 3.50],
            backgroundColor: '#27ae60',
            borderColor: '#1e8449',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false }
          },
          scales: {
            y: {
              beginAtZero: true,
              title: { display: true, text: 'Price ($)' }
            }
          }
        }
      });
      
      new Chart(document.getElementById('gasPriceChart'), {
        type: 'line',
        data: {
          labels: years,
          datasets: [{
            label: 'Price per Gallon',
            data: [2.80, 2.85, 2.95, 3.10, 3.30, 3.50, 3.75, 4.00, 4.25, 4.50],
            borderColor: '#f39c12',
            backgroundColor: 'rgba(243, 156, 18, 0.1)',
            borderWidth: 3,
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false }
          },
          scales: {
            y: {
              beginAtZero: false,
              title: { display: true, text: 'Price ($)' }
            }
          }
        }
      });
      
      new Chart(document.getElementById('rentPriceChart'), {
        type: 'line',
        data: {
          labels: years,
          datasets: [{
            label: 'Monthly Rent',
            data: [1800, 1900, 2050, 2200, 2400, 2600, 2800, 3000, 3200, 3400],
            borderColor: '#e74c3c',
            backgroundColor: 'rgba(231, 76, 60, 0.1)',
            borderWidth: 3,
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false }
          },
          scales: {
            y: {
              beginAtZero: false,
              title: { display: true, text: 'Price ($)' }
            }
          }
        }
      });
      
      // City Comparison Charts
      new Chart(document.getElementById('cpiComparisonChart'), {
        type: 'line',
        data: {
          labels: years,
          datasets: [
            {
              label: 'Seattle',
              data: [100, 103, 107, 112, 116, 122, 128, 135, 142, 150],
              borderColor: '#3498db',
              borderWidth: 3,
              tension: 0.3
            },
            {
              label: 'San Francisco',
              data: [100, 105, 110, 117, 125, 134, 143, 153, 163, 175],
              borderColor: '#e74c3c',
              borderWidth: 3,
              tension: 0.3
            },
            {
              label: 'New York',
              data: [100, 102, 105, 108, 112, 116, 120, 125, 130, 135],
              borderColor: '#f39c12',
              borderWidth: 3,
              tension: 0.3
            },
            {
              label: 'Chicago',
              data: [100, 101, 102, 104, 105, 107, 109, 111, 113, 115],
              borderColor: '#27ae60',
              borderWidth: 3,
              tension: 0.3
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'CPI Comparison Across Cities',
              font: { size: 16 }
            },
            legend: { position: 'top' }
          },
          scales: {
            y: {
              title: { display: true, text: 'CPI Value' }
            }
          }
        }
      });
      
      new Chart(document.getElementById('wageComparisonChart'), {
        type: 'bar',
        data: {
          labels: ['2015', '2020', '2024'],
          datasets: [
            {
              label: 'Seattle',
              data: [75000, 93000, 110000],
              backgroundColor: '#3498db'
            },
            {
              label: 'San Francisco',
              data: [85000, 105000, 125000],
              backgroundColor: '#e74c3c'
            },
            {
              label: 'New York',
              data: [80000, 95000, 110000],
              backgroundColor: '#f39c12'
            },
            {
              label: 'Chicago',
              data: [70000, 80000, 90000],
              backgroundColor: '#27ae60'
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Mean Wage Comparison Across Cities',
              font: { size: 16 }
            },
            legend: { position: 'top' }
          },
          scales: {
            y: {
              beginAtZero: true,
              title: { display: true, text: 'Annual Wage ($)' }
            }
          }
        }
      });
      
      // Navigation Script
      const scrollContainer = document.getElementById('scrollContainer');
      const pages = document.querySelectorAll('.page');
      const dots = document.querySelectorAll('.dot');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      let currentPage = 1;
      let isScrolling = false;
      let scrollTimeout;
      
      // Function to update page and navigation
      function updatePage(newPage) {
        // Validate page number
        if (newPage < 1) newPage = 1;
        if (newPage > pages.length) newPage = pages.length;
        
        // Update current page
        currentPage = newPage;
        
        // Scroll to the new page
        pages[newPage - 1].scrollIntoView({ behavior: 'smooth' });
        
        // Update dot states
        dots.forEach(dot => {
          dot.classList.remove('active');
        });
        document.querySelector(`.dot[data-page="${currentPage}"]`).classList.add('active');
        
        // Update button states
        prevBtn.disabled = currentPage === 1;
        nextBtn.disabled = currentPage === pages.length;
      }
      
      // Dot click event
      dots.forEach(dot => {
        dot.addEventListener('click', function() {
          const pageNum = parseInt(this.getAttribute('data-page'));
          updatePage(pageNum);
        });
      });
      
      // Previous button event
      prevBtn.addEventListener('click', function() {
        updatePage(currentPage - 1);
      });
      
      // Next button event
      nextBtn.addEventListener('click', function() {
        updatePage(currentPage + 1);
      });
      
      // Keyboard navigation
      document.addEventListener('keydown', function(e) {
        if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
          updatePage(currentPage - 1);
        } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
          updatePage(currentPage + 1);
        }
      });
      
      // Scroll event handler
      scrollContainer.addEventListener('scroll', function() {
        // Prevent multiple triggers
        if (isScrolling) return;
        isScrolling = true;
        
        // Clear any existing timeout
        clearTimeout(scrollTimeout);
        
        // Get the current scroll position
        const scrollPosition = scrollContainer.scrollTop;
        const pageHeight = window.innerHeight;
        
        // Calculate the current page index
        const newPage = Math.round(scrollPosition / pageHeight) + 1;
        
        // Update the current page if it has changed
        if (newPage !== currentPage && newPage >= 1 && newPage <= pages.length) {
          currentPage = newPage;
          
          // Update dot states
          dots.forEach(dot => {
            dot.classList.remove('active');
          });
          document.querySelector(`.dot[data-page="${currentPage}"]`).classList.add('active');
          
          // Update button states
          prevBtn.disabled = currentPage === 1;
          nextBtn.disabled = currentPage === pages.length;
        }
        
        // Reset scrolling flag after a short delay
        scrollTimeout = setTimeout(() => {
          isScrolling = false;
        }, 100);
      });
      
      // Initialize the page
      updatePage(1);
      
      // Category selector interaction
      const categoryBtns = document.querySelectorAll('.category-btn');
      categoryBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          categoryBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
        });
      });
    });
  </script>
</body>
</html>
